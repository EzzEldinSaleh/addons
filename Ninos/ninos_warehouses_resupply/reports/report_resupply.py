from odoo import api, fields, models class ResupplyReport(models.AbstractModel):    _name = 'report.ninos_warehouses_resupply.report_resupply'    @api.model    def _get_report_values(self, docids, data=None):        # if data['form']['warehouses_ids']:        wiz_warehouse = self.env['wizard.warehouse'].browse(data['form']['warehouses_ids'])        products = self.env['product.product'].search([])        warehouse=data['form']['warehouses_ids']        date_from=data['form']['date_from']        date_to=data['form']['date_to']        dataa = {}        warehouses = self.env['stock.warehouse'].search([('id','in',warehouse)])        for war in warehouses:            for product in products:                    saleorderlines = self.env['sale.order.line'].search(                        [('order_id.warehouse_id', '=', war.id),                         ('order_id.date_order', '>=', date_from),                         ('order_id.date_order', '<=', date_to),                         ('product_id', '=', product.id),                        ])                    onhand = product.with_context(                        warehouse=war.id                    ).qty_available                    if saleorderlines or onhand:                        # for line in saleorderlines:                        totalproduct=sum(saleorderlines.mapped('product_uom_qty'))                        if str(war.id) not in dataa:                            dataa[str(war.id)] = {                                'name': war.name,                                'num_products': 1,                                'products': {str(product.name): [product.name, onhand,totalproduct]}                            }                        else:                            product_id = product.id                            if str(product_id) not in dataa[str(war.id)]['products']:                                if product.id:                                    dataa[str(war.id)]['products'][str(product_id)] = [product.name, onhand,totalproduct]                                    dataa[str(war.id)]['num_products'] += 1        return {            'doc_model': 'wizard.warehouse',            'dataa': dataa,            'datef': date_from,            'datet': date_to,        }